(this["webpackJsonpfeed-app"]=this["webpackJsonpfeed-app"]||[]).push([[0],{112:function(e,a,t){e.exports=t(198)},117:function(e,a,t){},118:function(e,a,t){},136:function(e,a,t){},179:function(e,a,t){},198:function(e,a,t){"use strict";t.r(a);var n=t(0),l=t.n(n),s=t(8),c=t.n(s),r=(t(117),t(44)),o=(t(118),t(45)),i=t.n(o),u=t(9),m=t(48),d=t(69),p=t(70),v=t.n(p),h=(t(136),["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sept","Oct","Nov","Dec"]),f=t(207),E=t(208),g=t(209),b=t(200),w=t(202),k=function(e){var a="";if(e.data.event_date){var t=new Date(e.data.event_date);a=t.getDate()+function(e){if(e>3&&e<21)return"th";switch(e%10){case 1:return"st";case 2:return"nd";case 3:return"rd";default:return"th"}}(t.getDate())+" "+h[t.getMonth()]+"'"+t.getFullYear().toString().substr(-2)}return l.a.createElement("div",{className:"feed-post ".concat(e.isGrid?"is-grid":""," ").concat(e.isFeatured?"is-featured":""),onClick:e.postClick},l.a.createElement("div",{className:"fp-image"},l.a.createElement("img",{src:e.data.thumbnail_image})),l.a.createElement("div",{className:"fp-content"},e.isFeatured?null:l.a.createElement("h3",{className:"fp-title"},e.data.event_name),l.a.createElement("span",{className:"fp-date"},a),l.a.createElement("ul",{className:"count-info"},l.a.createElement("li",{className:"views"},l.a.createElement(f.a,null),l.a.createElement("span",null,e.data.views)),l.a.createElement("li",{className:"likes"},l.a.createElement(E.a,null),l.a.createElement("span",null,e.data.likes)),l.a.createElement("li",{className:"shares"},l.a.createElement(g.a,null),l.a.createElement("span",null,e.data.shares)))),e.isFeatured?l.a.createElement("div",{className:"fp-actions"},l.a.createElement(b.a,null,l.a.createElement(w.a,{type:"default",icon:l.a.createElement(E.a,null),size:"large"},"Like"),l.a.createElement(w.a,{type:"default",icon:l.a.createElement(g.a,null),size:"large"},"Share"))):null)},O=t(43),j=t(205),N=t(206),y=t(203),S=t(201),x=t(210),C=t(211),L=(t(179),t(199),O.a.Option),F=[],G=["https://www.mocky.io/v2/59b3f0b0100000e30b236b7e","https://www.mocky.io/v2/59ac28a9100000ce0bf9c236","https://www.mocky.io/v2/59ac293b100000d60bf9c239"],D=function(e){var a=Object(n.useState)({isLoading:!1,allposts:[],isGrid:!1,currentPage:1}),t=Object(r.a)(a,2),s=t[0],c=t[1];function o(){return(o=Object(d.a)(i.a.mark((function e(a){var t;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,c(Object(u.a)(Object(u.a)({},s),{},{isLoading:!0})),document.scrollingElement.style.scrollBehavior="smooth",document.scrollingElement.scrollTop=0,e.next=6,v.a.get(G[a-1]);case 6:t=e.sent,c(Object(u.a)(Object(u.a)({},s),{},{isLoading:!1,allposts:t.data.posts,currentPage:a})),F=Object(m.a)(t.data.posts),e.next=15;break;case 11:e.prev=11,e.t0=e.catch(0),c(Object(u.a)(Object(u.a)({},s),{},{isLoading:!1,allposts:[]})),console.log(e.t0);case 15:case"end":return e.stop()}}),e,null,[[0,11]])})))).apply(this,arguments)}Object(n.useEffect)((function(){function e(){return(e=Object(d.a)(i.a.mark((function e(){var a;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,console.log("try"),e.next=4,v.a.get(G[0]);case 4:a=e.sent,c(Object(u.a)(Object(u.a)({},s),{},{isLoading:!1,allposts:a.data.posts})),F=Object(m.a)(a.data.posts),e.next=13;break;case 9:e.prev=9,e.t0=e.catch(0),c(Object(u.a)(Object(u.a)({},s),{},{isLoading:!1})),console.log(e.t0);case 13:case"end":return e.stop()}}),e,null,[[0,9]])})))).apply(this,arguments)}console.log("useeffect"),function(){e.apply(this,arguments)}()}),[]);var p=l.a.createElement(j.a,null,l.a.createElement(N.a,{xs:24,className:"custom-skeleton"},l.a.createElement(y.a,{active:!0,avatar:!0,paragraph:{rows:1}})),l.a.createElement(N.a,{xs:24,className:"custom-skeleton"},l.a.createElement(y.a,{active:!0,avatar:!0,paragraph:{rows:1}})),l.a.createElement(N.a,{xs:24,className:"custom-skeleton"},l.a.createElement(y.a,{active:!0,avatar:!0,paragraph:{rows:1}})));return l.a.createElement(l.a.Fragment,null,l.a.createElement("div",{className:"feed-options ".concat(0===s.allposts.length?"disabled":null)},l.a.createElement("div",{className:"list-options"},l.a.createElement("a",{className:"".concat(!s.isGrid&&"active"),onClick:function(){return c(Object(u.a)(Object(u.a)({},s),{},{isGrid:!1}))}},l.a.createElement(x.a,null)),l.a.createElement("a",{className:"".concat(s.isGrid&&"active"),onClick:function(){return c(Object(u.a)(Object(u.a)({},s),{},{isGrid:!0}))}},l.a.createElement(C.a,null))),l.a.createElement("div",{className:"sorting-options"},l.a.createElement("label",null,"Sort By:"),l.a.createElement(O.a,{defaultValue:"default",style:{width:170},onChange:function(e){var a=s.allposts;console.log("selected ".concat(e));var t=[];switch(e){case"likesup":t=a.sort((function(e,a){return e.likes>a.likes?1:-1}));break;case"viewsup":t=a.sort((function(e,a){return e.views>a.views?1:-1}));break;case"likesdown":t=a.sort((function(e,a){return e.likes>a.likes?-1:1}));break;case"viewsdown":t=a.sort((function(e,a){return e.views>a.views?-1:1}));break;case"sharesup":t=a.sort((function(e,a){return e.shares>a.shares?1:-1}));break;case"sharesdown":t=a.sort((function(e,a){return e.shares>a.shares?-1:1}));break;case"default":t=F;break;default:t=Object(m.a)(F)}c(Object(u.a)(Object(u.a)({},s),{},{allposts:Object(m.a)(t)}))}},l.a.createElement(L,{value:"default"},"Default"),l.a.createElement(L,{value:"viewsup"},"Views (low to high)"),l.a.createElement(L,{value:"viewsdown"},"Views (high to low)"),l.a.createElement(L,{value:"likesup"},"Likes (low to high)"),l.a.createElement(L,{value:"likesdown"},"Likes (high to low)"),l.a.createElement(L,{value:"sharesup"},"Shares (low to high)"),l.a.createElement(L,{value:"sharesdown"},"Shares (high to low)")))),s.isLoading?l.a.createElement("div",{style:{width:"100%"}},p):l.a.createElement(l.a.Fragment,null,l.a.createElement("div",{className:"post-list"},s.allposts.length?s.allposts.map((function(a,t){return l.a.createElement(k,{postClick:function(){return e.postSelected(a)},key:"post-".concat(t),data:a,isGrid:s.isGrid})})):l.a.createElement("div",{className:"error-block"},l.a.createElement("img",{src:"/assets/blank.svg"}),l.a.createElement("p",null,"Something seems to be not working!",l.a.createElement("br",null),l.a.createElement("span",null,"Try refreshing the page or check back later.")),l.a.createElement(w.a,{type:"primary",onClick:function(){return window.location.reload()}},"Refresh"))),s.allposts.length?l.a.createElement(S.a,{className:"custom-pagination",current:s.currentPage,onChange:function(e){return o.apply(this,arguments)},total:21,defaultPageSize:7}):null))},J=t(204);var _=function(){var e=Object(n.useState)(!1),a=Object(r.a)(e,2),t=a[0],s=a[1],c=Object(n.useState)({}),o=Object(r.a)(c,2),i=o[0],u=o[1];return l.a.createElement("main",{className:"container"},l.a.createElement("div",{className:"banner"},"Event Feed"),l.a.createElement(D,{postSelected:function(e){return a=e,console.log(a),u(a),void s(!0);var a}}),l.a.createElement(J.a,{title:i.event_name,closable:!1,onClose:function(){return s(!1)},visible:t,getContainer:!1,className:"custom-drawer",placement:"bottom"},l.a.createElement(k,{data:i,isFeatured:!0})))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));c.a.render(l.a.createElement(l.a.StrictMode,null,l.a.createElement(_,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[112,1,2]]]);
//# sourceMappingURL=main.800c7e57.chunk.js.map